webpackJsonp([1],{"7zck":function(t,e){},Eo3W:function(t,e){},Es7a:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-navigation-drawer",{staticClass:"secondary",attrs:{fixed:"",app:"",dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",[a("v-list-tile",{attrs:{to:"/","active-class":"accent--text"}},[a("v-list-tile-action",[a("v-icon",[t._v("home")])],1),t._v(" "),a("v-list-tile-title",{staticClass:"title"},[t._v("Home")])],1),t._v(" "),a("v-divider"),t._v(" "),t._l(t.menus,function(e,i){return a("v-list-group",{key:i,attrs:{value:"true"}},[a("v-list-tile",{attrs:{slot:"activator","active-class":"accent--text"},slot:"activator"},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-title",{staticClass:"title"},[t._v(t._s(e.name))])],1),t._v(" "),t._l(e.items,function(e,i){return a("v-list-tile",{key:i,attrs:{to:e.link,"active-class":"accent--text"}},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-title",[t._v(t._s(e.name))])],1)})],2)}),t._v(" "),t.userIsAuthenticated?a("v-list-tile",{on:{click:t.logout}},[a("v-list-tile-action",[a("v-icon",[t._v("exit_to_app")])],1),t._v(" "),a("v-list-tile-title",{staticClass:"title"},[t._v("Logout")])],1):t._e()],2)],1),t._v(" "),a("v-toolbar",{staticClass:"hidden-md-and-up",attrs:{color:"secondary",dark:"",fixed:"",app:""}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),a("v-toolbar-title",[t._v("Events")])],1)],1)},staticRenderFns:[]},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-footer",{staticClass:"pa-3",attrs:{color:"primary",dark:""}},[e("v-spacer"),this._v(" "),e("h3",{staticClass:"pa-2"},[this._v("Sebastian Mazur")]),this._v(" "),e("div",[this._v("Â© "+this._s((new Date).getFullYear()))])],1)},staticRenderFns:[]},n={name:"App",components:{Navigator:a("VU/8")({data:function(){return{drawer:!0,mini:!0}},computed:{userIsAuthenticated:function(){return this.$store.getters.userIsAuthenticated},menus:function(){var t=[{name:"Events",icon:"event",items:[{name:"Create event",icon:"add_box",link:"/event/new"},{name:"My events",icon:"chrome_reader_mode",link:"/event/my-events"}]}];return this.userIsAuthenticated||(t=[{name:"User",icon:"account_circle",items:[{name:"SignIn",icon:"person_outline",link:"/user/signin"},{name:"SignUp",icon:"person_add",link:"/user/signup"}]}]),t}},methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push("/")}}},r,!1,null,null,null).exports,Footer:a("VU/8")(null,s,!1,null,null,null).exports}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-app",[e("Navigator"),this._v(" "),e("v-content",[e("v-container",[e("router-view")],1)],1),this._v(" "),e("Footer")],1)],1)},staticRenderFns:[]};var l=a("VU/8")(n,o,!1,function(t){a("eM84")},null,null).exports,d=a("/ocq"),c=new i.a({data:{validRules:{title:"required|min:6",description:"required|min:10",organizerName:"required|min:6",location:"required",imageUrl:"required|url",categorySelect:"required",startTime:"required",startDate:"required",endTime:"required",endDate:"required"},validRulesEdit:{editedTitle:"required|min:6",editedDescription:"required|min:10",editedOrganizerName:"required|min:6",editedLocation:"required",editedImageUrl:"required|url",editedCategorySelect:"required",editedStartTime:"required",editedStartDate:"required",editedEndTime:"required",editedEndDate:"required"},category:["Arts","Business","Charity and Causes","Community","Film and media","Food and drink","Music","Others"],firebaseInitialize:{apiKey:"AIzaSyCbtFheCZyNr71asy5uVV7ZmZLkGYTLlRg",authDomain:"events-app-978ed.firebaseapp.com",databaseURL:"https://events-app-978ed.firebaseio.com",projectId:"events-app-978ed",storageBucket:""},googleMapsApi:"AIzaSyCEQGekztBryFOuW7mdB0FExd5no1Go_r0"}}),v={data:function(){return{active:null,eventsSelected:[],searchByTitle:"",searchByLocation:"",categories:c.categories,searchByCategories:[],searchEvents:[],locationName:""}},computed:{foundEvents:function(){var t={searchByTitle:this.searchByTitle,searchByLocation:this.searchByLocation,searchByCategories:this.searchByCategories};return this.$store.dispatch("searchedEvents",t),this.eventsSelected=this.$store.getters.foundEvents,this.eventsSelected}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[a("v-flex",{attrs:{xs11:""}},[a("v-tabs",{attrs:{color:"primary",dark:"","slider-color":"accent"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("v-tab",{attrs:{ripple:""},on:{click:function(e){t.searchByCategories=[],t.searchByLocation=""}}},[t._v("\n                    Search events by title\n                ")]),t._v(" "),a("v-tab-item",{staticClass:"height-card"},[a("v-card",[a("v-card-text",[a("v-subheader",{staticClass:"display-1"},[t._v("Search events")]),t._v(" "),a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{name:"searchByTitle",label:"Search by title","active-class":"accent"},model:{value:t.searchByTitle,callback:function(e){t.searchByTitle=e},expression:"searchByTitle"}})],1)],1)],1)],1)],1)],1),t._v(" "),a("v-tab",{attrs:{ripple:""},on:{click:function(e){t.searchByCategories=[],t.searchByTitle=""}}},[t._v("\n                    Search events by location\n                ")]),t._v(" "),a("v-tab-item",{staticClass:"height-card"},[a("v-card",[a("v-card-text",[a("v-subheader",{staticClass:"display-1"},[t._v("Search events")]),t._v(" "),a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{name:"searchByLocation",label:"Search by location"},model:{value:t.searchByLocation,callback:function(e){t.searchByLocation=e},expression:"searchByLocation"}})],1)],1)],1)],1)],1)],1),t._v(" "),a("v-tab",{attrs:{ripple:""},on:{click:function(e){t.searchByTitle="",t.searchByLocation=""}}},[t._v("\n                    Search events by categories                        \n                ")]),t._v(" "),a("v-tab-item",{staticClass:"height-card"},[a("v-card",[a("v-card-text",[a("v-subheader",{staticClass:"display-1"},[t._v("Search events")]),t._v(" "),a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.categories,function(e,i){return a("v-flex",{key:i,attrs:{xs6:"",sm4:"",md4:""}},[a("v-checkbox",{attrs:{label:e,color:"accent",value:e,multiple:"","hide-details":""},model:{value:t.searchByCategories,callback:function(e){t.searchByCategories=e},expression:"searchByCategories"}})],1)}))],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},t._l(t.foundEvents,function(e){return a("v-flex",{key:e.id,staticClass:"pa-2",attrs:{xs12:"",sm6:"",md4:""}},[a("v-card",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card-media",{attrs:{src:e.imageUrl,height:"200px"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs7:"",sm8:"",md9:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline primary--text"},[t._v(t._s(e.title))]),t._v(" "),a("h4",{staticClass:"body-2 grey--text"},[t._v("Start date: "+t._s(e.startDate))]),t._v(" "),a("h4",{staticClass:"body-2 grey--text"},[t._v("End date: "+t._s(e.endDate))]),t._v(" "),a("span",[t._v(t._s(e.location.locality))]),t._v(" "),a("p",{staticClass:"text-cut subheading"},[t._v(t._s(e.description))]),t._v(" "),a("v-layout",{staticClass:"text-xs-left",attrs:{row:"",wrap:""}},t._l(e.categorySelect,function(e,i){return a("v-flex",{key:i},[a("v-chip",{staticClass:"error--text text-xs-left elevation-1",attrs:{outline:"",disabled:""}},[t._v(t._s(e.toString()))])],1)}))],1)]),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{"justify-end":"",row:"",wrap:""}},[a("v-flex",{attrs:{xs4:"",md6:""}},[a("v-btn",{staticClass:"primary",attrs:{flat:"",to:"/event/"+e.id}},[a("v-icon",{attrs:{left:""}},[t._v("arrow_forward")]),t._v("\n                                            Viwe event\n                                        ")],1)],1)],1)],1)],1)],1)],1)],1)],1)}))],1)},staticRenderFns:[]};var m=a("VU/8")(v,u,!1,function(t){a("he+v")},null,null).exports,f=a("sUu7"),h={validator:null,data:function(){return{address:"",title:"",location:{},imageUrl:"",description:"",organizerName:"",startDate:null,startTime:null,endDate:null,endTime:null,image:null,categorySelect:[],category:c.$data.category,errors:null,dialog:!1,messages:[],validate:!1}},created:function(){this.validator=new f.a(c.$data.validRules),this.$set(this,"errors",this.validator.errors)},watch:{title:function(t){this.validator.validate("title",t)},description:function(t){this.validator.validate("description",t)},organizerName:function(t){this.validator.validate("organizerName",t)},location:function(t){this.validator.validate("location",t)},imageUrl:function(t){this.validator.validate("imageUrl",t)},categorySelect:function(t){this.validator.validate("categorySelect",t)},startTime:function(t){this.validator.validate("startTime",t)},startDate:function(t){this.validator.validate("startDate",t)},endTime:function(t){this.validator.validate("endTime",t)},endDate:function(t){this.validator.validate("endDate",t)}},methods:{validateForm:function(){var t=this;this.validator.validateAll({title:this.title,description:this.description,organizerName:this.organizerName,locality:this.location,imageUrl:this.imageUrl,categorySelect:this.categorySelect,startTime:this.startTime,startDate:this.startDate,endTime:this.endTime,endDate:this.endDate}).then(function(e){e&&(t.validate=e)}),this.messages=this.validator.errors.items,this.dialog=!0},createNewEvents:function(){var t={title:this.title,location:this.location,imageUrl:this.imageUrl,description:this.description,startDate:this.startDate,startTime:this.startTime,endDate:this.endDate,endTime:this.endTime,categorySelect:this.categorySelect,organizerName:this.organizerName};this.$store.dispatch("createEvent",t),this.dialog=!1,this.$router.push("/")},clearErrors:function(){this.errors.clear()},getAddressData:function(t,e,a){""!==t&&null!==t&&void 0!==t&&(this.location={country:t.country,latitude:t.latitude,longitude:t.longitude,locality:t.locality,name:t.name,place_id:t.place_id,route:t.route})},setStartDate:function(t){this.startDate=t},setEndDate:function(t){this.endDate=t},setStartTime:function(t){this.startTime=t},setEndTime:function(t){this.endTime=t}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.validateForm(e)}}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"title",label:"Title",id:"title",hint:t.errors.first("title"),required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"description",label:"Description",id:"description","multi-line":"",hint:t.errors.first("description"),required:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"organizerName",label:"The name of the organizer",id:"organizerName",hint:t.errors.first("organizerName"),required:""},model:{value:t.organizerName,callback:function(e){t.organizerName=e},expression:"organizerName"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("vuetify-google-autocomplete",{attrs:{name:"map",id:"map",classname:"form-control",label:"The address of the event (Address format: street, city, country)",country:"pl",types:t.address,clearable:!0,hint:t.errors.first("location"),required:""},on:{placechanged:t.getAddressData}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("span",{staticClass:"display-1"},[t._v("Start date")])])],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"","offset-sm3":""}},[a("date-picker",{attrs:{labelName:"Start date"},on:{setDate:function(e){t.setStartDate(e)}}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm3:""}},[a("time-picker",{attrs:{labelName:"Start Time"},on:{setTime:function(e){t.setStartTime(e)}}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-divider",{staticClass:"secondary mb-4 mt-3"}),t._v(" "),a("span",{staticClass:"display-1"},[t._v("End date")])],1)],1),t._v(" "),a("v-layout",{staticClass:"mb-4",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"","offset-sm3":""}},[a("date-picker",{attrs:{labelName:"End date"},on:{setDate:function(e){t.setEndDate(e)}}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm3:""}},[a("time-picker",{attrs:{labelName:"End time"},on:{setTime:function(e){t.setEndTime(e)}}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"imageUrl",label:"Image URL",id:"imageUrl",type:"url",placeholder:"https://www.example.pl",hint:t.errors.first("imageUrl"),required:""},model:{value:t.imageUrl,callback:function(e){t.imageUrl=e},expression:"imageUrl"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("img",{attrs:{src:t.imageUrl,height:"150"}})])],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-select",{class:{"error--text":t.errors.has("categorySelect")},attrs:{items:t.category,label:"Select category",multiple:"",chips:"",hint:t.errors.first("categorySelect"),required:""},model:{value:t.categorySelect,callback:function(e){t.categorySelect=e},expression:"categorySelect"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("category"),expression:"errors.has('category')"}],staticClass:"error"},[t._v(t._s(t.errors.first("category")))])],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-btn",{staticClass:"primary",attrs:{slot:"activator",type:"submit"},slot:"activator"},[t._v("Organize event\n                        ")]),t._v(" "),a("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[t._l(t.messages,function(e,i){return a("v-card-text",{key:i,staticClass:"body-2 error--text"},[t._v("                            \n                                    "+t._s(e.msg)+"\n                                ")])}),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{"justify-center":""}},[t.validate?a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.createNewEvents}},[t._v("\n                                            I accept\n                                        ")]):t._e(),t._v(" "),t.validate?t._e():a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n                                            Ok\n                                        ")])],1)],1)],2)],1)],1)],1)],1)])],1)],1)},staticRenderFns:[]};var g=a("VU/8")(h,p,!1,function(t){a("lw1o")},null,null).exports,y=a("y87N"),_=a.n(y),x={props:["id"],computed:{event:function(){return this.$store.getters.loadedEvent(this.id)},userIsAuthenticated:function(){return this.$store.getters.userIsAuthenticated},userIsCreator:function(){return!!this.userIsAuthenticated&&this.$store.getters.user.id===this.event.creatorID}},mounted:function(){var t=this.event;_.a.googleMaps(t)},methods:{registerEvent:function(){}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-flex",{attrs:{xs10:""}},[a("v-card",[a("v-card-media",{staticClass:"white--text",attrs:{height:"450px",src:t.event.imageUrl}},[a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-layout",{attrs:{"fill-height":""}},[a("v-flex",{attrs:{xs12:"","align-end":"",flexbox:""}},[a("p",{staticClass:"display-1"},[t._v(t._s(t.event.title))])])],1)],1)],1),t._v(" "),a("v-card-title",[a("div",[a("span",{staticClass:"body-2 grey--text"},[t._v("Start date: "+t._s(t.event.startDate)+", "+t._s(t.event.startTime))]),a("br"),t._v(" "),a("span",{staticClass:"body-2 grey--text"},[t._v("End date: "+t._s(t.event.endDate)+", "+t._s(t.event.endTime))]),a("br"),t._v(" "),a("span",{staticClass:"subheading"},[a("span",{staticClass:"primary--text"},[t._v("Organizer name:")]),t._v(" "+t._s(t.event.organizerName))]),a("br"),t._v(" "),a("span",{staticClass:"subheading",attrs:{id:"location"}},[t._v("Adress: "+t._s(t.event.location.name)+", "+t._s(t.event.location.locality)+", "+t._s(t.event.location.country))]),t._v(" "),a("p",{staticClass:"pt-4 body-2"},[t._v(t._s(t.event.description))])])]),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{row:"",wrap:"","justify-start":""}},[a("v-flex",{staticClass:"mt-2",attrs:{xs10:"",md2:""}},[t.userIsCreator?a("edit-event",{attrs:{event:t.event}}):t._e()],1),t._v(" "),a("v-flex",{staticClass:"mt-2",attrs:{xs10:"",md2:""}},[t.userIsCreator?a("delete-event",{attrs:{id:t.event.id}}):t._e()],1),t._v(" "),a("v-spacer"),t._v(" "),!t.userIsCreator&&t.userIsAuthenticated?a("v-btn",{attrs:{color:"info"},on:{click:t.registerEvent}},[t._v("Register")]):t._e()],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("div",{staticClass:"google-map",attrs:{id:"googleMap"}})],1)],1)],1)],1)},staticRenderFns:[]};var E=a("VU/8")(x,w,!1,function(t){a("z9nC")},null,null).exports,b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[t.isUserCreatedEvents?t._e():a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("h2",{staticClass:"display-2 text-xs-center pa-3"},[t._v("You don't create any events.")]),t._v(" "),a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-btn",{staticClass:"text-xs-center ma-3",attrs:{color:"primary",to:"/event/new"}},[t._v("Create event")])],1)],1)],1),t._v(" "),t._l(t.myEvents,function(e){return a("v-flex",{key:e.id,staticClass:"pa-2",attrs:{xs12:"",sm6:"",md4:""}},[a("v-card",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card-media",{attrs:{src:e.imageUrl,height:"200px"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs7:"",sm8:"",md9:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline primary--text"},[t._v(t._s(e.title))]),t._v(" "),a("h4",{staticClass:"body-2 grey--text"},[t._v(t._s(e.date))]),t._v(" "),a("p",{staticClass:"text-cut subheading"},[t._v(t._s(e.description))]),t._v(" "),a("v-layout",{staticClass:"text-xs-left",attrs:{row:"",wrap:""}},t._l(e.categorySelect,function(e,i){return a("v-flex",{key:i,attrs:{xs6:""}},[a("span",{staticClass:"info--text text-xs-left"},[t._v(t._s(e.toString()))])])}))],1)]),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{"justify-end":"",row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-btn",{staticClass:"primary",attrs:{flat:"",to:"/event/"+e.id}},[a("v-icon",{attrs:{left:""}},[t._v("arrow_forward")]),t._v("\n                                        Viwe event\n                                    ")],1)],1)],1)],1)],1)],1)],1)],1)],1)})],2)},staticRenderFns:[]},D=a("VU/8")({data:function(){return{isUserCreatedEvents:!1}},computed:{myEvents:function(){var t=this.$store.getters.loadedEvents,e=this.$store.getters.user,a=t.filter(function(t){return t.creatorID==e.id});return a.length>0&&(this.isUserCreatedEvents=!0),a}}},b,!1,null,null,null).exports,S={data:function(){return{email:"",password:"",confirmPassword:""}},computed:{user:function(){return this.$store.getters.user},error:function(){return this.$store.getters.error}},watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/")}},methods:{onSignUp:function(){this.$store.dispatch("signUserUp",{email:this.email,password:this.password})},onDismissed:function(){this.$store.dispatch("clearError")}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"margin-register"},[t.error?a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("error-alert",{attrs:{text:t.error.message},on:{dismissed:t.onDismissed}})],1)],1):t._e(),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSignUp(e)}}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{color:"primary",name:"email",label:"E-mail",id:"email",type:"email",hint:t.vErrors.first("email"),required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],ref:"password",attrs:{counter:"",type:"password",color:"primary",name:"password",label:"Password",id:"password",hint:t.vErrors.first("password"),required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6|confirmed:password",expression:"'required|min:6|confirmed:password'"}],attrs:{counter:"",type:"password",name:"confirmPassword",label:"Confirm Password",id:"confirmPassword",required:"",hint:t.vErrors.first("password")},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:"","justify-end":""}},[a("v-flex",{attrs:{xs3:""}},[a("v-btn",{attrs:{disabled:!t.email||!t.password||!t.confirmPassword||t.vErrors.has("password")||t.vErrors.has("email")||t.vErrors.first("confirmPassword"),type:"submite",color:"primary"}},[t._v("\n                            Sign up\n                            "),a("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[a("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)],1)],1)])],1)],1)},staticRenderFns:[]};var T=a("VU/8")(S,C,!1,function(t){a("Eo3W")},null,null).exports,k={data:function(){return{email:"",password:""}},computed:{user:function(){return this.$store.getters.user},error:function(){return this.$store.getters.error}},watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/")}},methods:{onSignIn:function(){this.$store.dispatch("signUserIn",{email:this.email,password:this.password})},onDismissed:function(){this.$store.dispatch("clearError")}}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"margin-register"},[t.error?a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("error-alert",{attrs:{text:t.error.message},on:{dismissed:t.onDismissed}})],1)],1):t._e(),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSignIn(e)}}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{color:"primary",name:"email",label:"E-mail",id:"email",type:"email",hint:t.vErrors.first("email"),required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],attrs:{color:"primary",name:"password",label:"Password",id:"password",type:"password",hint:t.vErrors.first("password"),required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:"","justify-end":""}},[a("v-flex",{attrs:{xs3:""}},[a("v-btn",{attrs:{slot:"activator",disabled:!t.email||!t.password||t.vErrors.has("password")||t.vErrors.has("email"),type:"submite",color:"primary"},slot:"activator"},[t._v("\n                            Sign in\n                            "),a("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[a("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)],1)],1)])],1)],1)},staticRenderFns:[]};var N=a("VU/8")(k,U,!1,function(t){a("Es7a")},null,null).exports;i.a.use(d.a);var I=new d.a({routes:[{path:"/",name:"Home",component:m},{path:"/event/new",name:"New Event",component:g},{path:"/event/my-events",name:"My Events",component:D},{path:"/event/:id",props:!0,name:"Event",component:E},{path:"/user/signup",name:"Signup",component:T},{path:"/user/signin",name:"Signin",component:N}]}),$=a("3EgV"),z=a.n($),q=a("NYxO"),A=a("424j"),B=a("kxiW"),L={state:{user:null,userIsAuthenticated:!1},mutations:{setUser:function(t,e){t.user=e},setUserIsAuthenticated:function(t,e){t.userIsAuthenticated=e}},actions:{signUserUp:function(t,e){var a=t.commit;a("clearError"),B.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){var e={id:t.uid,email:t.email};a("setUser",e),a("setUserIsAuthenticated",!0)}).catch(function(t){a("setError",t),console.log(t)})},signUserIn:function(t,e){var a=t.commit;a("clearError"),B.auth().signInWithEmailAndPassword(e.email,e.password).then(function(t){var e={id:t.uid,email:t.email};a("setUser",e),a("setUserIsAuthenticated",!0)}).catch(function(t){a("setError",t),console.log(t)})},autoSignIn:function(t,e){var a=t.commit;a("setUser",{id:e.uid}),a("setUserIsAuthenticated",!0)},logout:function(t){var e=t.commit;B.auth().signOut(),e("setUserIsAuthenticated",!1),e("setUser",null)}},getters:{user:function(t){return t.user},userIsAuthenticated:function(t){return t.userIsAuthenticated}}},O=a("Dd8w"),F=a.n(O),R=a("fZjL"),V=a.n(R),P={state:{loadedEvents:[],foundEvents:[]},mutations:{createEvent:function(t,e){t.loadedEvents.push(e)},setLoadedEvents:function(t,e){t.loadedEvents=e},setSearchedEvents:function(t,e){t.foundEvents=e},removeEventData:function(t,e){t.loadedEvents=t.loadedEvents.filter(function(t){return t.id!==e})},updateEventData:function(t,e){var a=t.loadedEvents.find(function(t){return t.id===e.id});V()(a).forEach(function(t){a[t]=e[t]})}},actions:{createEvent:function(t,e){var a=t.commit,i=t.rootGetters;e.creatorID=i.user.id;var r=e,s=void 0;B.database().ref("events").push(r).then(function(t){return s=t.key}).then(function(){a("createEvent",F()({},r,{id:s}))}).catch(function(t){return console.log(t)})},loadedEvents:function(t){var e=t.commit;B.database().ref("events").once("value").then(function(t){var a=[],i=t.val();for(var r in i)a.push({id:r,categorySelect:i[r].categorySelect,imageUrl:i[r].imageUrl,startDate:i[r].startDate,startTime:i[r].startTime,endDate:i[r].endDate,endTime:i[r].endTime,description:i[r].description,location:i[r].location,organizerName:i[r].organizerName,title:i[r].title,creatorID:i[r].creatorID}),e("setLoadedEvents",a)}).catch(function(t){return console.log(t)})},deleteEvent:function(t,e){var a=t.commit;B.database().ref("events").child(e).remove().then(function(){a("removeEventData",e)}).catch(function(t){return console.log(t)})},updateEventData:function(t,e){var a=t.commit,i=e;B.database().ref("events").child(e.id).update(i).then(function(){a("updateEventData",e)}).catch(function(t){return console.log(t)})},searchedEvents:function(t,e){var a=t.commit,i=t.getters,r=e.searchByTitle,s=e.searchByLocation,n=e.searchByCategories,o=i.loadedEvents;if(""!==r&&""===s&&0==n.length)a("setSearchedEvents",o.filter(function(t){return t.title.toLowerCase().includes(r.toLowerCase())}));else if(""===r&&""!==s&&0===n.length)a("setSearchedEvents",o.filter(function(t){return t.location.locality.toLowerCase().includes(s.toLowerCase())}));else if(""===r&&""===s&&n.length>0){var l=[];o.forEach(function(t){n.forEach(function(e){t.categorySelect.forEach(function(a){if(a===e&&!l.some(function(e){return e.id===t.id}))return l.push(t)})})}),a("setSearchedEvents",o=l)}else a("setSearchedEvents",o)}},getters:{loadedEvents:function(t){return t.loadedEvents.sort(function(t,e){return t.date>e.date})},loadedEvent:function(t){return function(e){return t.loadedEvents.find(function(t){return t.id===e})}},foundEvents:function(t){return t.foundEvents}}};i.a.use(q.a);var j=new q.a.Store({plugins:[Object(A.a)()],modules:{helpers:{state:{error:null},mutations:{setError:function(t,e){t.error=e},clearError:function(t){t.error=null}},actions:{clearError:function(t){(0,t.commit)("clearError")}},getters:{error:function(t){return t.error}}},user:L,event:P}}),M=a("9Xpx"),W=a.n(M),H=(a("7zck"),a("gJtD"),{props:["event"],data:function(){return{category:c.$data.category,editedCategorySelect:this.event.categorySelect,editedTitle:this.event.title,editedDescription:this.event.description,editedOrganizerName:this.event.organizerName,editedLocation:this.event.location,editedImageUrl:this.event.imageUrl,editedStartDate:this.event.startDate,editedStartTime:this.event.startTime,editedEndDate:this.event.endDate,editedEndTime:this.event.endTime,dialog:!1,validate:!1,messages:[]}},created:function(){this.validator=new f.a(c.$data.validRulesEdit),this.$set(this,"errors",this.validator.errors)},watch:{editedTitle:function(t){this.validator.validate("editedTitle",t)},editedDescription:function(t){this.validator.validate("editedDescription",t)},editedOrganizerName:function(t){this.validator.validate("editedOrganizerName",t)},editedLocation:function(t){this.validator.validate("editedLocation",t)},editedImageUrl:function(t){this.validator.validate("editedImageUrl",t)},editedCategorySelect:function(t){this.validator.validate("editedCategorySelect",t)},editedStartTime:function(t){this.validator.validate("editedStartTime",t)},editedStartDate:function(t){this.validator.validate("editedStartDate",t)},editedEndTime:function(t){this.validator.validate("editedEndTime",t)},editedEndDate:function(t){this.validator.validate("editedEndDate",t)}},methods:{validateForm:function(){var t=this;this.validator.validateAll({editedTitle:this.editedTitle,editedDescription:this.editedDescription,editedOrganizerName:this.editedOrganizerName,editedLocation:this.editedLocation,editedImageUrl:this.editedImageUrl,editedCategorySelect:this.editedCategorySelect,editedStartTime:this.editedStartTime,editedStartDate:this.editedStartDate,editedEndTime:this.editedEndTime,editedEndDate:this.editedEndDate}).then(function(e){e?t.validate=e:t.messages=t.validator.errors.items})},onSaveChanges:function(){var t=this;this.validator.validateAll({editedTitle:this.editedTitle,editedDescription:this.editedDescription,editedOrganizerName:this.editedOrganizerName,editedLocation:this.editedLocation,editedImageUrl:this.editedImageUrl,editedCategorySelect:this.editedCategorySelect,editedStartTime:this.editedStartTime,editedStartDate:this.editedStartDate,editedEndTime:this.editedEndTime,editedEndDate:this.editedEndDate}).then(function(e){if(e){t.validate=e,t.dialog=!1;var a={id:t.event.id,title:t.editedTitle,description:t.editedDescription,organizerName:t.editedOrganizerName,location:t.editedLocation,categorySelect:t.editedCategorySelect,imageUrl:t.editedImageUrl,startDate:t.editedStartDate,startTime:t.editedStartTime,endDate:t.editedEndDate,endTime:t.editedEndTime,creatorID:t.event.creatorID};t.$store.dispatch("updateEventData",a)}else t.messages=t.validator.errors.items,t.dialog=!0})},getAddressData:function(t,e,a){""!==t&&null!==t&&void 0!=t&&(this.editedLocation={country:t.country,latitude:t.latitude,longitude:t.longitude,locality:t.locality,name:t.name,place_id:t.place_id,route:t.route})},clearErrors:function(){this.errors.clear()},setStartDate:function(t){this.editedStartDate=t},setEndDate:function(t){this.editedEndDate=t},setStartTime:function(t){this.editedStartTime=t},setEndTime:function(t){this.editedEndTime=t}}}),G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("div",[a("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v("Edit event")])],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"650"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card-text",[a("v-text-field",{attrs:{name:"tittle",label:"Title",id:"title",required:""},model:{value:t.editedTitle,callback:function(e){t.editedTitle=e},expression:"editedTitle"}}),t._v(" "),a("v-text-field",{attrs:{name:"description",label:"Description",id:"description","multi-line":"",required:""},model:{value:t.editedDescription,callback:function(e){t.editedDescription=e},expression:"editedDescription"}}),t._v(" "),a("v-text-field",{attrs:{name:"organizerName",label:"The name of the organizer",id:"organizerName",required:""},model:{value:t.editedOrganizerName,callback:function(e){t.editedOrganizerName=e},expression:"editedOrganizerName"}}),t._v(" "),a("vuetify-google-autocomplete",{attrs:{id:"map",classname:"form-control",label:"Event adress",value:t.editedLocation.name+", "+t.editedLocation.locality+", "+t.editedLocation.country,country:"pl",clearable:!0},on:{placechanged:t.getAddressData}}),t._v(" "),a("date-picker",{attrs:{editedDate:t.editedStartDate,labelName:"Start date"},on:{setDate:function(e){t.setStartDate(e)}}}),t._v(" "),a("time-picker",{attrs:{editedTime:t.editedStartTime,labelName:"Start Time"},on:{setTime:function(e){t.setStartTime(e)}}}),t._v(" "),a("date-picker",{attrs:{editedDate:t.editedEndDate,labelName:"End date"},on:{setDate:function(e){t.setEndDate(e)}}}),t._v(" "),a("time-picker",{attrs:{editedTime:t.editedEndTime,labelName:"End time"},on:{setTime:function(e){t.setEndTime(e)}}}),t._v(" "),a("v-text-field",{attrs:{name:"imageUrl",label:"Image URL",id:"imageUrl",type:"url",placeholder:"https://www.example.pl",required:""},model:{value:t.editedImageUrl,callback:function(e){t.editedImageUrl=e},expression:"editedImageUrl"}}),t._v(" "),a("img",{attrs:{src:t.editedImageUrl,height:"150"}}),t._v(" "),a("v-select",{attrs:{items:t.category,label:"Select a category",multiple:"",chips:"","persistent-hint":""},model:{value:t.editedCategorySelect,callback:function(e){t.editedCategorySelect=e},expression:"editedCategorySelect"}})],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","text-xs-right":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{color:"error"},nativeOn:{click:function(e){e.stopPropagation(),t.dialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:t.onSaveChanges}},[t._v("\n                        Save\n                    ")])],1)],1),t._v(" "),t._l(t.messages,function(e,i){return a("v-card-text",{key:i,staticClass:"error--text"},[t._v("  \n                "+t._s(e.msg)+"\n            ")])})],2)],1)],1)},staticRenderFns:[]},Y=a("VU/8")(H,G,!1,null,null,null).exports,Z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("div",[a("v-btn",{attrs:{color:"error"},nativeOn:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v("Delete event")])],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this event?")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"error"},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("Disagree")]),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:t.deleteEvent}},[t._v("Agree")])],1)],1)],1)],1)},staticRenderFns:[]},J=a("VU/8")({props:["id"],data:function(){return{dialog:!1}},methods:{deleteEvent:function(){this.$store.dispatch("deleteEvent",this.id),this.dialog=!1,this.$router.push("/event/my-events")}}},Z,!1,null,null,null).exports,K={render:function(){var t=this.$createElement;return(this._self._c||t)("v-alert",{attrs:{type:"error",dismissible:"",outline:"",value:!0},on:{input:this.onClose}},[this._v("\n    "+this._s(this.text)+"\n")])},staticRenderFns:[]},Q=a("VU/8")({props:["text"],methods:{onClose:function(){this.$emit("dismissed")}}},K,!1,null,null,null).exports,X={props:["labelName","editedDate"],data:function(){return{date:null,menu:!1,currentData:(new Date).toISOString().substring(0,10)}},mounted:function(){""===this.editedDate&&null==this.date||(this.date=this.editedDate)},methods:{pushDate:function(){this.$emit("setDate",this.date)}}},tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.date,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-text-field",{attrs:{slot:"activator",label:t.labelName,"prepend-icon":"event",readonly:"",required:""},slot:"activator",model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),a("v-date-picker",{attrs:{min:t.currentData},on:{input:function(e){t.$refs.menu.save(t.date)},change:t.pushDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1)},staticRenderFns:[]},et=a("VU/8")(X,tt,!1,null,null,null).exports,at={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.time,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.time=e}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-text-field",{attrs:{slot:"activator",placeholder:t.editedTime,label:t.labelName,"prepend-icon":"access_time",readonly:"",required:""},slot:"activator",model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}),t._v(" "),a("v-time-picker",{on:{change:t.pushTime},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)],1)],1)},staticRenderFns:[]};var it=a("VU/8")({props:["labelName","editedTime"],data:function(){return{time:null,menu:!1}},mounted:function(){""===this.editedTime&&null==this.time||(this.time=this.editedTime)},methods:{pushTime:function(){this.$refs.menu.save(this.time),this.$emit("setTime",this.time)}}},at,!1,function(t){a("slNB")},null,null).exports;i.a.use(z.a,{theme:{primary:"#265500",secondary:"#213036",accent:"#96d800",error:"#b7241b",info:"#f58f92"}}),i.a.use(W.a,{apiKey:c.googleMapsApi}),i.a.use(f.b,{errorBagName:"vErrors"}),i.a.config.productionTip=!1,i.a.component("edit-event",Y),i.a.component("delete-event",J),i.a.component("error-alert",Q),i.a.component("date-picker",et),i.a.component("time-picker",it),new i.a({el:"#app",router:I,components:{App:l},template:"<App/>",store:j,created:function(){var t=this;B.initializeApp(c.firebaseInitialize),B.auth().onAuthStateChanged(function(e){e&&t.$store.dispatch("autoSignIn",e)}),this.$store.dispatch("loadedEvents")}})},eM84:function(t,e){},gJtD:function(t,e){},"he+v":function(t,e){},lw1o:function(t,e){},slNB:function(t,e){},y87N:function(t,e){t.exports={googleMaps:function(t){var e={lat:t.location.latitude,lng:t.location.longitude},a=new google.maps.Map(document.getElementById("googleMap"),{zoom:10,center:e}),i=(new google.maps.Marker({position:e,map:a,title:"Hello World!"}),new google.maps.InfoWindow);new google.maps.places.PlacesService(a).getDetails({placeId:t.location.place_id},function(t,e){if(e===google.maps.places.PlacesServiceStatus.OK){var r=new google.maps.Marker({map:a,position:t.geometry.location});google.maps.event.addListener(r,"click",function(){i.setContent("<div><strong>"+t.name+"</strong><br>"+t.formatted_address+"</div>"),i.open(a,this)})}})}}},z9nC:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d1931b08d5115fb83d9b.js.map