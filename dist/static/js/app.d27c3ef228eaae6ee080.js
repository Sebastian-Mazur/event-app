webpackJsonp([1],{"0XIi":function(t,e){},"7zck":function(t,e){},FXoV:function(t,e){},Hc3N:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),r={data:function(){return{drawer:!0,mini:!0}},computed:{menus:function(){var t=[{name:"User",icon:"account_circle",items:[{name:"SignIn",icon:"person_outline",link:"/user/signin"},{name:"SignUp",icon:"person_add",link:"/user/signup"}]},{name:"Informations",icon:"info"}];return this.userIsAuthenticated&&(t=[{name:"Events",icon:"event",items:[{name:"Create event",icon:"add_box",link:"/event/new"},{name:"My events",icon:"chrome_reader_mode",link:"/event/my-events"}]}]),t},userIsAuthenticated:function(){return null!==this.$store.getters.user&&void 0!==this.$store.getters.user}},methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push("/")}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-navigation-drawer",{staticClass:"secondary",attrs:{fixed:"",app:"",dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",[a("v-list-tile",{attrs:{to:"/","active-class":"accent--text"}},[a("v-list-tile-action",[a("v-icon",[t._v("home")])],1),t._v(" "),a("v-list-tile-title",{staticClass:"title"},[t._v("Home")])],1),t._v(" "),a("v-divider"),t._v(" "),t._l(t.menus,function(e,i){return a("v-list-group",{key:i,attrs:{value:"true"}},[a("v-list-tile",{attrs:{slot:"activator","active-class":"accent--text"},slot:"activator"},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-title",{staticClass:"title"},[t._v(t._s(e.name))])],1),t._v(" "),t._l(e.items,function(e,i){return a("v-list-tile",{key:i,attrs:{to:e.link,"active-class":"accent--text"}},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-title",[t._v(t._s(e.name))])],1)})],2)}),t._v(" "),t.userIsAuthenticated?a("v-list-tile",{on:{click:t.logout}},[a("v-list-tile-action",[a("v-icon",[t._v("exit_to_app")])],1),t._v(" "),a("v-list-tile-title",{staticClass:"title"},[t._v("Logout")])],1):t._e()],2)],1),t._v(" "),a("v-toolbar",{staticClass:"hidden-lg-and-up",attrs:{color:"secondary",dark:"",fixed:"",app:""}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),a("v-toolbar-title",[t._v("Events")])],1)],1)},staticRenderFns:[]},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-footer",{staticClass:"pa-3",attrs:{color:"primary",dark:""}},[e("v-spacer"),this._v(" "),e("h3",{staticClass:"pa-2"},[this._v("Sebastian Mazur")]),this._v(" "),e("div",[this._v("Â© "+this._s((new Date).getFullYear()))])],1)},staticRenderFns:[]},o={name:"App",components:{Navigator:a("VU/8")(r,s,!1,null,null,null).exports,Footer:a("VU/8")(null,n,!1,null,null,null).exports}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-app",[e("Navigator"),this._v(" "),e("v-content",[e("v-container",[e("router-view")],1)],1),this._v(" "),e("Footer")],1)],1)},staticRenderFns:[]};var c=a("VU/8")(o,l,!1,function(t){a("cjTs")},null,null).exports,d=a("/ocq"),u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[a("v-flex",{attrs:{xs11:""}},[a("v-tabs",{attrs:{color:"primary",dark:"","slider-color":"accent"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("v-tab",{attrs:{ripple:""},on:{click:function(e){t.searchByCategories=[],t.searchByLocation=""}}},[t._v("\n                    Search events by title\n                ")]),t._v(" "),a("v-tab-item",{staticClass:"height-card"},[a("v-card",[a("v-card-text",[a("v-subheader",{staticClass:"display-1"},[t._v("Search events")]),t._v(" "),a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{name:"searchByTitle",label:"Search by title","active-class":"accent"},model:{value:t.searchByTitle,callback:function(e){t.searchByTitle=e},expression:"searchByTitle"}})],1)],1)],1)],1)],1)],1),t._v(" "),a("v-tab",{attrs:{ripple:""},on:{click:function(e){t.searchByCategories=[],t.searchByTitle=""}}},[t._v("\n                    Search events by location\n                ")]),t._v(" "),a("v-tab-item",{staticClass:"height-card"},[a("v-card",[a("v-card-text",[a("v-subheader",{staticClass:"display-1"},[t._v("Search events")]),t._v(" "),a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{name:"searchByLocation",label:"Search by location"},model:{value:t.searchByLocation,callback:function(e){t.searchByLocation=e},expression:"searchByLocation"}})],1)],1)],1)],1)],1)],1),t._v(" "),a("v-tab",{attrs:{ripple:""},on:{click:function(e){t.searchByTitle="",t.searchByLocation=""}}},[t._v("\n                    Search events by categories                        \n                ")]),t._v(" "),a("v-tab-item",{staticClass:"height-card"},[a("v-card",[a("v-card-text",[a("v-subheader",{staticClass:"display-1"},[t._v("Search events")]),t._v(" "),a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.categories,function(e,i){return a("v-flex",{key:i,attrs:{xs6:"",sm4:"",md4:""}},[a("v-checkbox",{attrs:{label:e,color:"accent",value:e,multiple:"","hide-details":""},model:{value:t.searchByCategories,callback:function(e){t.searchByCategories=e},expression:"searchByCategories"}})],1)}))],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},t._l(t.foundEvents,function(e){return a("v-flex",{key:e.id,staticClass:"pa-2",attrs:{xs12:"",sm6:"",md4:""}},[a("v-card",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card-media",{attrs:{src:e.imageUrl,height:"200px"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs7:"",sm8:"",md9:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline primary--text"},[t._v(t._s(e.title))]),t._v(" "),a("h4",{staticClass:"body-2 grey--text"},[t._v("Start date: "+t._s(e.startDate))]),t._v(" "),a("h4",{staticClass:"body-2 grey--text"},[t._v("End date: "+t._s(e.endDate))]),t._v(" "),a("span",[t._v(t._s(e.location.locality))]),t._v(" "),a("p",{staticClass:"text-cut subheading"},[t._v(t._s(e.description))]),t._v(" "),a("v-layout",{staticClass:"text-xs-left",attrs:{row:"",wrap:""}},t._l(e.categorySelect,function(e,i){return a("v-flex",{key:i},[a("v-chip",{staticClass:"error--text text-xs-left elevation-1",attrs:{outline:"",disabled:""}},[t._v(t._s(e.toString()))])],1)}))],1)]),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{"justify-end":"",row:"",wrap:""}},[a("v-flex",{attrs:{xs4:"",md6:""}},[a("v-btn",{staticClass:"primary",attrs:{flat:"",to:"/event/"+e.id}},[a("v-icon",{attrs:{left:""}},[t._v("arrow_forward")]),t._v("\n                                            Viwe event\n                                        ")],1)],1)],1)],1)],1)],1)],1)],1)],1)}))],1)},staticRenderFns:[]};var v=a("VU/8")({data:function(){return{active:null,eventsSelected:[],searchByTitle:"",searchByLocation:"",categories:["Arts","Business","Charity and Causes","Community","Film and media","Food and drink","Music","Others"],searchByCategories:[],searchEvents:[],locationName:""}},computed:{foundEvents:function(){var t={searchByTitle:this.searchByTitle,searchByLocation:this.searchByLocation,searchByCategories:this.searchByCategories};return this.$store.dispatch("searchedEvents",t),this.eventsSelected=this.$store.getters.foundEvents,this.eventsSelected}}},u,!1,function(t){a("0XIi")},null,null).exports,m={data:function(){return{address:"",title:"",inputRules:[function(t){return!!t||"This field is required"},function(t){return t.length>=6||"Text must be less than 6 characters"}],location:{},locationName:"",imageUrl:"",description:"",organizerName:"",startDate:null,startTime:null,endDate:null,endTime:null,image:null,categorySelect:[],category:["Arts","Business","Charity and Causes","Community","Film and media","Food and drink","Music","Others"]}},computed:{isFormValid:function(){return console.log(this.startDate,this.startTime,this.endDate,this.endTime),""!==this.title&&""!==this.location&&""!==this.imageUrl&&""!==this.description&&null!==this.startDate&&null!==this.startTime&&null!==this.endDate&&null!==this.endTime&&this.categorySelect.length>0&&""!==this.organizerName}},methods:{createNewEvents:function(){if(this.isFormValid){var t={title:this.title,location:this.location,imageUrl:this.imageUrl,description:this.description,startDate:this.startDate,startTime:this.startTime,endDate:this.endDate,endTime:this.endTime,categorySelect:this.categorySelect,organizerName:this.organizerName,locationName:this.locationName};console.log(t),this.$store.dispatch("createEvent",t),this.$router.push("/")}},getAddressData:function(t,e,a){""!==t&&null!==t&&void 0!=t&&(this.location={country:t.country,latitude:t.latitude,longitude:t.longitude,locality:t.locality,name:t.name,place_id:t.place_id,route:t.route})},setStartDate:function(t){console.log(),this.startDate=t},setEndDate:function(t){this.endDate=t},setStartTime:function(t){this.startTime=t},setEndTime:function(t){this.endTime=t}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.createNewEvents(e)}}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"tittle",label:"Title",id:"title",rules:t.inputRules,required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"description",label:"Description",id:"description",rules:t.inputRules,"multi-line":"",required:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"organizerName",label:"The name of the organizer",id:"organizerName",rules:t.inputRules,required:""},model:{value:t.organizerName,callback:function(e){t.organizerName=e},expression:"organizerName"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("vuetify-google-autocomplete",{attrs:{id:"map",classname:"form-control",label:"The address of the event (Address format: street, city, country)",country:"pl",types:t.address,clearable:!0,rules:[function(t){return t.length>0||"Addres is required"}]},on:{placechanged:t.getAddressData}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("span",{staticClass:"display-1"},[t._v("Start date")])])],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"","offset-sm3":""}},[a("date-picker",{attrs:{labelName:"Start date"},on:{setDate:function(e){t.setStartDate(e)}}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm3:""}},[a("time-picker",{attrs:{labelName:"Start Time"},on:{setTime:function(e){t.setStartTime(e)}}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-divider",{staticClass:"secondary mb-4 mt-3"}),t._v(" "),a("span",{staticClass:"display-1"},[t._v("End date")])],1)],1),t._v(" "),a("v-layout",{staticClass:"mb-4",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"","offset-sm3":""}},[a("date-picker",{attrs:{labelName:"End date"},on:{setDate:function(e){t.setEndDate(e)}}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm3:""}},[a("time-picker",{attrs:{labelName:"End time"},on:{setTime:function(e){t.setEndTime(e)}}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"imageUrl",label:"Image URL",id:"imageUrl",type:"url",pattern:"https?://.+",placeholder:"https://www.example.pl",rules:t.inputRules,required:""},model:{value:t.imageUrl,callback:function(e){t.imageUrl=e},expression:"imageUrl"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("img",{attrs:{src:t.imageUrl,height:"150"}})])],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-select",{attrs:{items:t.category,label:"Select category",multiple:"",chips:"",rules:[function(t){return t.length>0||"Category select is required"}],hint:"You can choose more than one category","persistent-hint":""},model:{value:t.categorySelect,callback:function(e){t.categorySelect=e},expression:"categorySelect"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-btn",{staticClass:"primary",attrs:{disabled:!t.isFormValid,type:"submit"}},[t._v("Organize event\n                        ")])],1)],1)],1)])],1)],1)},staticRenderFns:[]};var h=a("VU/8")(m,f,!1,function(t){a("Nd8s")},null,null).exports,p={props:["id"],computed:{event:function(){return console.log(this.$store.getters.loadedEvent(this.id)),this.$store.getters.loadedEvent(this.id)},userIsAuthenticated:function(){return null!==this.$store.getters.user&&void 0!==this.$store.getters.user},userIsCreator:function(){return!!this.userIsAuthenticated&&this.$store.getters.user.id===this.event.creatorID}},mounted:function(){var t={lat:this.event.location.latitude,lng:this.event.location.longitude},e=new google.maps.Map(document.getElementById("googleMap"),{zoom:10,center:t}),a=(new google.maps.Marker({position:t,map:e,title:"Hello World!"}),new google.maps.InfoWindow);new google.maps.places.PlacesService(e).getDetails({placeId:this.event.location.place_id},function(t,i){if(i===google.maps.places.PlacesServiceStatus.OK){var r=new google.maps.Marker({map:e,position:t.geometry.location});google.maps.event.addListener(r,"click",function(){a.setContent("<div><strong>"+t.name+"</strong><br>"+t.formatted_address+"</div>"),a.open(e,this)})}})},methods:{registerEvent:function(){}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-flex",{attrs:{xs10:""}},[a("v-card",[a("v-card-media",{staticClass:"white--text",attrs:{height:"450px",src:t.event.imageUrl}},[a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-layout",{attrs:{"fill-height":""}},[a("v-flex",{attrs:{xs12:"","align-end":"",flexbox:""}},[a("p",{staticClass:"display-1"},[t._v(t._s(t.event.title))])])],1)],1)],1),t._v(" "),a("v-card-title",[a("div",[a("span",{staticClass:"body-2 grey--text"},[t._v("Start date: "+t._s(t.event.startDate)+", "+t._s(t.event.startTime))]),a("br"),t._v(" "),a("span",{staticClass:"body-2 grey--text"},[t._v("End date: "+t._s(t.event.endDate)+", "+t._s(t.event.endTime))]),a("br"),t._v(" "),a("span",{staticClass:"subheading"},[a("span",{staticClass:"primary--text"},[t._v("Organizer name:")]),t._v(" "+t._s(t.event.organizerName))]),a("br"),t._v(" "),a("span",{staticClass:"subheading",attrs:{id:"location"}},[t._v("Adress: "+t._s(t.event.location.name)+", "+t._s(t.event.location.locality)+", "+t._s(t.event.location.country))]),t._v(" "),a("p",{staticClass:"pt-4 body-2"},[t._v(t._s(t.event.description))])])]),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{row:"",wrap:"","justify-start":""}},[a("v-flex",{staticClass:"mt-2",attrs:{xs10:"",md2:""}},[t.userIsCreator?a("edit-event",{attrs:{event:t.event}}):t._e()],1),t._v(" "),a("v-flex",{staticClass:"mt-2",attrs:{xs10:"",md2:""}},[t.userIsCreator?a("delete-event",{attrs:{id:t.event.id}}):t._e()],1),t._v(" "),a("v-spacer"),t._v(" "),!t.userIsCreator&&t.userIsAuthenticated?a("v-btn",{attrs:{color:"info"},on:{click:t.registerEvent}},[t._v("Register")]):t._e()],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("div",{staticClass:"google-map",attrs:{id:"googleMap"}})],1)],1)],1)],1)},staticRenderFns:[]};var y=a("VU/8")(p,g,!1,function(t){a("FXoV")},null,null).exports,_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},t._l(t.myEvents,function(e){return a("v-flex",{key:e.id,staticClass:"pa-2",attrs:{xs12:"",sm6:"",md4:""}},[a("v-card",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card-media",{attrs:{src:e.imageUrl,height:"200px"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs7:"",sm8:"",md9:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline primary--text"},[t._v(t._s(e.title))]),t._v(" "),a("h4",{staticClass:"body-2 grey--text"},[t._v(t._s(e.date))]),t._v(" "),a("p",{staticClass:"text-cut subheading"},[t._v(t._s(e.description))]),t._v(" "),a("v-layout",{staticClass:"text-xs-left",attrs:{row:"",wrap:""}},t._l(e.categorySelect,function(e,i){return a("v-flex",{key:i,attrs:{xs6:""}},[a("span",{staticClass:"info--text text-xs-left"},[t._v(t._s(e.toString()))])])}))],1)]),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{"justify-end":"",row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-btn",{staticClass:"primary",attrs:{flat:"",to:"/event/"+e.id}},[a("v-icon",{attrs:{left:""}},[t._v("arrow_forward")]),t._v("\n                                            Viwe event\n                                        ")],1)],1)],1)],1)],1)],1)],1)],1)],1)}))},staticRenderFns:[]},x=a("VU/8")({data:function(){return{}},computed:{myEvents:function(){var t=this.$store.getters.loadedEvents,e=this.$store.getters.user;return t.filter(function(t){return t.creatorID==e.id})}}},_,!1,null,null,null).exports,w={data:function(){return{email:"",password:"",confirmPassword:"",rules:{required:function(t){return!!t||"Required."},email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}}}},computed:{comparePasswords:function(){return this.password!==this.confirmPassword?"Password do not match":""},user:function(){return this.$store.getters.user},error:function(){return this.$store.getters.error}},watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/")}},methods:{onSignUp:function(){this.$store.dispatch("signUserUp",{email:this.email,password:this.password})},onDismissed:function(){this.$store.dispatch("clearError")}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"margin-register"},[t.error?a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("error-alert",{attrs:{text:t.error.message},on:{dismissed:t.onDismissed}})],1)],1):t._e(),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSignUp(e)}}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{color:"secondary",name:"email",label:"E-mail",id:"email",type:"email",rules:[t.rules.required,t.rules.email],required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{color:"secondary",name:"password",label:"Password",id:"password",type:"password",hint:"At least 6 characters",min:"6",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{name:"confirmPassword",label:"Confirm Password",id:"confirmPassword",type:"password",required:"",hint:"At least 6 characters",min:"6",rules:[t.comparePasswords]},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:"","justify-end":""}},[a("v-flex",{attrs:{xs3:""}},[a("v-btn",{attrs:{type:"submite",color:"secondary"}},[t._v("\n                            Sign up\n                            "),a("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[a("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)],1)],1)])],1)],1)},staticRenderFns:[]};var E=a("VU/8")(w,b,!1,function(t){a("bPej")},null,null).exports,D={data:function(){return{email:"",password:"",rules:{required:function(t){return!!t||"Required."},email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}}}},computed:{user:function(){return this.$store.getters.user},error:function(){return this.$store.getters.error}},watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/")}},methods:{onSignIn:function(){this.$store.dispatch("signUserIn",{email:this.email,password:this.password})},onDismissed:function(){this.$store.dispatch("clearError")}}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"margin-register"},[t.error?a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("error-alert",{attrs:{text:t.error.message},on:{dismissed:t.onDismissed}})],1)],1):t._e(),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSignIn(e)}}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{color:"primary",name:"email",label:"E-mail",id:"email",type:"email",rules:[t.rules.required,t.rules.email],required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{color:"primary",name:"password",label:"Password",id:"password",type:"password",hint:"At least 6 characters",min:"6",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:"","justify-end":""}},[a("v-flex",{attrs:{xs3:""}},[a("v-btn",{attrs:{type:"submite",color:"primary"}},[t._v("\n                            Sign in\n                            "),a("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[a("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)],1)],1)])],1)],1)},staticRenderFns:[]};var C=a("VU/8")(D,T,!1,function(t){a("Hc3N")},null,null).exports;i.a.use(d.a);var S=new d.a({routes:[{path:"/",name:"Home",component:v},{path:"/event/new",name:"New Event",component:h},{path:"/event/my-events",name:"My Events",component:x},{path:"/event/:id",props:!0,name:"Event",component:y},{path:"/user/signup",name:"Signup",component:E},{path:"/user/signin",name:"Signin",component:C}]}),k=a("3EgV"),U=a.n(k),N=a("Dd8w"),z=a.n(N),$=a("NYxO"),I=a("kxiW");i.a.use($.a);var B=new $.a.Store({state:{loadedEvents:[],foundEvents:[],user:null,error:null},mutations:{createEvent:function(t,e){t.loadedEvents.push(e)},setLoadedEvents:function(t,e){t.loadedEvents=e},setSearchedEvents:function(t,e){t.foundEvents=e},setUser:function(t,e){t.user=e},removeEventData:function(t,e){t.loadedEvents=t.loadedEvents.filter(function(t){return t.id!==e})},upadetEventData:function(t,e){var a=t.loadedEvents.find(function(t){return t.id===e.id});e.title&&(a.title=e.title),e.description&&(a.description=e.description),e.organizerName&&(a.organizerName=e.organizerName),e.location&&(a.location=e.location),e.categorySelect&&(a.categorySelect=e.categorySelect),e.imageUrl&&(a.imageUrl=e.imageUrl),e.startDate&&(a.startDate=e.startDate),e.startTime&&(a.startTime=e.startTime),e.endDate&&(a.endDate=e.endDate),e.endTime&&(a.endTime=e.endTime)},setError:function(t,e){t.error=e},clearError:function(t){t.error=null}},actions:{createEvent:function(t,e){var a=t.commit,i=t.getters,r={title:e.title,location:e.location,description:e.description,startDate:e.startDate,startTime:e.startTime,endDate:e.endDate,endTime:e.endTime,imageUrl:e.imageUrl,creatorID:i.user.id,categorySelect:e.categorySelect,organizerName:e.organizerName,locationName:e.locationName},s=void 0;I.database().ref("events").push(r).then(function(t){return s=t.key}).then(function(){a("createEvent",z()({},r,{id:s}))}).catch(function(t){console.log(t)})},loadedEvents:function(t){var e=t.commit;I.database().ref("events").once("value").then(function(t){var a=[],i=t.val();for(var r in i)a.push({id:r,categorySelect:i[r].categorySelect,imageUrl:i[r].imageUrl,startDate:i[r].startDate,startTime:i[r].startTime,endDate:i[r].endDate,endTime:i[r].endTime,description:i[r].description,location:i[r].location,organizerName:i[r].organizerName,title:i[r].title,creatorID:i[r].creatorID}),e("setLoadedEvents",a)}).catch(function(t){console.log(t)})},deleteEvent:function(t,e){var a=t.commit;I.database().ref("events").child(e).remove().then(function(){a("removeEventData",e)}).catch(function(t){console.log(t)})},updateEventData:function(t,e){var a=t.commit,i={};e.title&&(i.title=e.title),e.description&&(i.description=e.description),e.organizerName&&(i.organizerName=e.organizerName),e.location&&(i.location=e.location),e.categorySelect&&(i.categorySelect=e.categorySelect),e.imageUrl&&(i.imageUrl=e.imageUrl),e.imageUrl&&(i.imageUrl=e.imageUrl),e.startDate&&(i.startDate=e.startDate),e.startTime&&(i.startTime=e.startTime),e.endDate&&(i.endDate=e.endDate),e.endTime&&(i.endTime=e.endTime),I.database().ref("events").child(e.id).update(i).then(function(){a("upadetEventData",e)}).catch(function(t){console.log(t)})},searchedEvents:function(t,e){var a=t.commit,i=t.getters,r=e.searchByTitle,s=e.searchByLocation,n=e.searchByCategories,o=i.loadedEvents;if(""!==r&&""===s&&0==n.length)a("setSearchedEvents",o.filter(function(t){return t.title.toLowerCase().includes(r.toLowerCase())}));else if(""===r&&""!==s&&0==n.length)a("setSearchedEvents",o.filter(function(t){return t.location.locality.toLowerCase().includes(s.toLowerCase())}));else if(""===r&&""===s&&n.length>0){var l=[];o.forEach(function(t){n.forEach(function(e){t.categorySelect.forEach(function(a){if(a===e&&!l.some(function(e){return e.id===t.id}))return l.push(t)})})}),a("setSearchedEvents",o=l)}else a("setSearchedEvents",o)},signUserUp:function(t,e){var a=t.commit;I.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){var e={id:t.uid,email:t.email};a("setUser",e)}).catch(function(t){a("setError",t),console.log(t)})},signUserIn:function(t,e){var a=t.commit;I.auth().signInWithEmailAndPassword(e.email,e.password).then(function(t){var e={id:t.uid,email:t.email};a("setUser",e)}).catch(function(t){a("setError",t),console.log(t)})},autoSignIn:function(t,e){(0,t.commit)("setUser",{id:e.uid})},logout:function(t){var e=t.commit;I.auth().signOut(),e("setUser",null)},clearError:function(t){(0,t.commit)("clearError")}},getters:{loadedEvents:function(t){return t.loadedEvents.sort(function(t,e){return t.date>e.date})},loadedEvent:function(t){return function(e){return t.loadedEvents.find(function(t){return t.id===e})}},foundEvents:function(t){return t.foundEvents},user:function(t){return t.user},error:function(t){return t.error}}}),A=a("9Xpx"),F=a.n(A),L=(a("7zck"),a("gJtD"),{props:["event"],data:function(){return{dialog:!1,inputRules:[function(t){return!!t||"This field is required"},function(t){return t.length>=6||"Text must be less than 6 characters"}],category:["Arts","Business","Charity and Causes","Community","Film and media","Food and drink","Music","Others"],editedCategorySelect:this.event.categorySelect,editedTitle:this.event.title,editedDescription:this.event.description,editedOrganizerName:this.event.organizerName,editedLocation:this.event.location,editedImageUrl:this.event.imageUrl,editedStartDate:this.event.startDate,editedStartTime:this.event.startTime,editedEndDate:this.event.endDate,editedEndTime:this.event.endTime}},computed:{isFormValid:function(){return""!==this.editedTitle&&""!==this.editedLocation&&""!==this.editedImageUrl&&""!==this.editedDescription&&""!==this.event.startDate&&""!==this.event.startTime&&""!==this.event.endDate&&""!==this.event.endTime&&this.editedCategorySelect.length>0&&""!==this.editedOrganizerName}},methods:{onSaveChanges:function(){if(""===this.editedTitle||""===this.editedDescription||""===this.editedOrganizerName||""===this.editedLocation)return!1;this.dialog=!1;var t={id:this.event.id,title:this.editedTitle,description:this.editedDescription,organizerName:this.editedOrganizerName,location:this.editedLocation,categorySelect:this.editedCategorySelect,imageUrl:this.editedImageUrl,startDate:this.editedStartDate,startTime:this.editedStartTime,endDate:this.editedEndDate,endTime:this.editedEndTime};this.$store.dispatch("updateEventData",t)},getAddressData:function(t,e,a){""!==t&&null!==t&&void 0!=t&&(this.editedLocation={country:t.country,latitude:t.latitude,longitude:t.longitude,locality:t.locality,name:t.name,place_id:t.place_id,route:t.route})},setStartDate:function(t){console.log(),this.editedStartDate=t},setEndDate:function(t){this.editedEndDate=t},setStartTime:function(t){this.editedStartTime=t},setEndTime:function(t){this.editedEndTime=t}}}),R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("div",[a("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v("Edit event")])],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"650"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card-text",[a("v-text-field",{attrs:{name:"tittle",label:"Title",id:"title",rules:t.inputRules,required:""},model:{value:t.editedTitle,callback:function(e){t.editedTitle=e},expression:"editedTitle"}}),t._v(" "),a("v-text-field",{attrs:{name:"description",label:"Description",id:"description",rules:t.inputRules,"multi-line":"",required:""},model:{value:t.editedDescription,callback:function(e){t.editedDescription=e},expression:"editedDescription"}}),t._v(" "),a("v-text-field",{attrs:{name:"organizerName",label:"The name of the organizer",id:"organizerName",rules:t.inputRules,required:""},model:{value:t.editedOrganizerName,callback:function(e){t.editedOrganizerName=e},expression:"editedOrganizerName"}}),t._v(" "),a("vuetify-google-autocomplete",{attrs:{id:"map",classname:"form-control",label:"Event adress",value:t.editedLocation.name+", "+t.editedLocation.locality+", "+t.editedLocation.country,rules:[function(t){return t.length>0||"Location is required"}],country:"pl",clearable:!0},on:{placechanged:t.getAddressData}}),t._v(" "),a("date-picker",{attrs:{editedDate:t.editedStartDate,labelName:"Start date"},on:{setDate:function(e){t.setStartDate(e)}}}),t._v(" "),a("time-picker",{attrs:{editedTime:t.editedStartTime,labelName:"Start Time"},on:{setTime:function(e){t.setStartTime(e)}}}),t._v(" "),a("date-picker",{attrs:{editedDate:t.editedEndDate,labelName:"End date"},on:{setDate:function(e){t.setEndDate(e)}}}),t._v(" "),a("time-picker",{attrs:{editedTime:t.editedEndTime,labelName:"End time"},on:{setTime:function(e){t.setEndTime(e)}}}),t._v(" "),a("v-text-field",{attrs:{name:"imageUrl",label:"Image URL",id:"imageUrl",type:"url",pattern:"https?://.+",placeholder:"https://www.example.pl",rules:t.inputRules,required:""},model:{value:t.editedImageUrl,callback:function(e){t.editedImageUrl=e},expression:"editedImageUrl"}}),t._v(" "),a("img",{attrs:{src:t.editedImageUrl,height:"150"}}),t._v(" "),a("v-select",{attrs:{items:t.category,label:"Select a category",multiple:"",chips:"",rules:[function(t){return t.length>0||"Category select is required"}],hint:"You can choose more than one category","persistent-hint":""},model:{value:t.editedCategorySelect,callback:function(e){t.editedCategorySelect=e},expression:"editedCategorySelect"}})],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","text-xs-right":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{color:"error"},nativeOn:{click:function(e){e.stopPropagation(),t.dialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"primary",disabled:!t.isFormValid},on:{click:t.onSaveChanges}},[t._v("\n                        Save\n                    ")])],1)],1)],1)],1)],1)},staticRenderFns:[]},V=a("VU/8")(L,R,!1,null,null,null).exports,q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("div",[a("v-btn",{attrs:{color:"error"},nativeOn:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v("Delete event")])],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this event?")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"error"},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("Disagree")]),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:t.deleteEvent}},[t._v("Agree")])],1)],1)],1)],1)},staticRenderFns:[]},P=a("VU/8")({props:["id"],data:function(){return{dialog:!1}},methods:{deleteEvent:function(){this.$store.dispatch("deleteEvent",this.id),this.dialog=!1,this.$router.push("/event/my-events")}}},q,!1,null,null,null).exports,O={render:function(){var t=this.$createElement;return(this._self._c||t)("v-alert",{attrs:{type:"error",dismissible:"",outline:"",value:!0},on:{input:this.onClose}},[this._v("\n    "+this._s(this.text)+"\n")])},staticRenderFns:[]},j=a("VU/8")({props:["text"],methods:{onClose:function(){this.$emit("dismissed")}}},O,!1,null,null,null).exports,M={props:["labelName","editedDate"],data:function(){return{date:null,menu:!1,currentData:(new Date).getFullYear()+"-0"+(new Date).getMonth()+"-"+(new Date).getDate()}},mounted:function(){""===this.editedDate&&null==this.date||(this.date=this.editedDate)},methods:{pushDate:function(){this.$emit("setDate",this.date)}}},H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.date,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-text-field",{attrs:{slot:"activator",label:t.labelName,"prepend-icon":"event",readonly:""},slot:"activator",model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),a("v-date-picker",{attrs:{min:t.currentData.toString()},on:{input:function(e){t.$refs.menu.save(t.date)},change:t.pushDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1)},staticRenderFns:[]},W=a("VU/8")(M,H,!1,null,null,null).exports,Z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.time,rules:[function(t){return"Time select is required"}],lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.time=e}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-text-field",{attrs:{slot:"activator",placeholder:t.editedTime,label:t.labelName,"prepend-icon":"access_time",readonly:""},slot:"activator",model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}),t._v(" "),a("v-time-picker",{on:{change:t.pushTime},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)],1)],1)},staticRenderFns:[]};var Y=a("VU/8")({props:["labelName","editedTime"],data:function(){return{time:null,menu:!1}},mounted:function(){""===this.editedTime&&null==this.time||(this.time=this.editedTime)},methods:{pushTime:function(){this.$refs.menu.save(this.time),this.$emit("setTime",this.time)}}},Z,!1,function(t){a("z1Ei")},null,null).exports;i.a.use(U.a,{theme:{primary:"#265500",secondary:"#213036",accent:"#96d800",error:"#b7241b",info:"#f58f92"}}),i.a.use(F.a,{apiKey:"AIzaSyCEQGekztBryFOuW7mdB0FExd5no1Go_r0"}),i.a.config.productionTip=!1,i.a.component("edit-event",V),i.a.component("delete-event",P),i.a.component("error-alert",j),i.a.component("date-picker",W),i.a.component("time-picker",Y),new i.a({el:"#app",router:S,components:{App:c},template:"<App/>",store:B,created:function(){var t=this;I.initializeApp({apiKey:"AIzaSyCbtFheCZyNr71asy5uVV7ZmZLkGYTLlRg",authDomain:"events-app-978ed.firebaseapp.com",databaseURL:"https://events-app-978ed.firebaseio.com",projectId:"events-app-978ed",storageBucket:""}),I.auth().onAuthStateChanged(function(e){e&&t.$store.dispatch("autoSignIn",e)}),this.$store.dispatch("loadedEvents")}})},Nd8s:function(t,e){},bPej:function(t,e){},cjTs:function(t,e){},gJtD:function(t,e){},z1Ei:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d27c3ef228eaae6ee080.js.map