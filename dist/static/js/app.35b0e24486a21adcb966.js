webpackJsonp([1],{"7zck":function(t,e){},Eo3W:function(t,e){},Es7a:function(t,e){},L7bS:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("7+uW"),s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-navigation-drawer",{staticClass:"secondary",attrs:{fixed:"",app:"",dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",[a("v-list-tile",{attrs:{to:"/","active-class":"accent--text"}},[a("v-list-tile-action",[a("v-icon",[t._v("home")])],1),t._v(" "),a("v-list-tile-title",{staticClass:"title"},[t._v("Home")])],1),t._v(" "),a("v-divider"),t._v(" "),t._l(t.menus,function(e,r){return a("v-list-group",{key:r,attrs:{value:"true"}},[a("v-list-tile",{attrs:{slot:"activator","active-class":"accent--text"},slot:"activator"},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-title",{staticClass:"title"},[t._v(t._s(e.name))])],1),t._v(" "),t._l(e.items,function(e,r){return a("v-list-tile",{key:r,attrs:{to:e.link,"active-class":"accent--text"}},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),a("v-list-tile-title",[t._v(t._s(e.name))])],1)})],2)}),t._v(" "),t.userIsAuthenticated?a("v-list-tile",{on:{click:t.logout}},[a("v-list-tile-action",[a("v-icon",[t._v("exit_to_app")])],1),t._v(" "),a("v-list-tile-title",{staticClass:"title"},[t._v("Logout")])],1):t._e()],2)],1),t._v(" "),a("v-toolbar",{staticClass:"hidden-md-and-up",attrs:{color:"secondary",dark:"",fixed:"",app:""}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),a("v-toolbar-title",[t._v("Events")])],1)],1)},staticRenderFns:[]},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-footer",{staticClass:"pa-3",attrs:{color:"primary",dark:""}},[e("v-spacer"),this._v(" "),e("h3",{staticClass:"pa-2"},[this._v("Sebastian Mazur")]),this._v(" "),e("div",[this._v("Â© "+this._s((new Date).getFullYear()))])],1)},staticRenderFns:[]},i={name:"App",components:{Navigator:a("VU/8")({data:function(){return{drawer:!0,mini:!0}},computed:{userIsAuthenticated:function(){return this.$store.getters.userIsAuthenticated},menus:function(){var t=[{name:"Events",icon:"event",items:[{name:"Create event",icon:"add_box",link:"/event/new"},{name:"My events",icon:"chrome_reader_mode",link:"/event/my-events"}]}];return this.userIsAuthenticated||(t=[{name:"User",icon:"account_circle",items:[{name:"SignIn",icon:"person_outline",link:"/user/signin"},{name:"SignUp",icon:"person_add",link:"/user/signup"}]}]),t}},methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push("/")}}},s,!1,null,null,null).exports,Footer:a("VU/8")(null,n,!1,null,null,null).exports}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-app",[e("Navigator"),this._v(" "),e("v-content",[e("v-container",[e("router-view")],1)],1),this._v(" "),e("Footer")],1)],1)},staticRenderFns:[]};var l=a("VU/8")(i,o,!1,function(t){a("eM84")},null,null).exports,c=a("/ocq"),d=new r.a({data:{validRules:{title:"required|min:6",description:"required|min:10",organizerName:"required|min:6",location:"required",imageUrl:"required|url",categorySelect:"required",startTime:"required",startDate:"required",endTime:"required",endDate:"required"},category:["Arts","Business","Charity and Causes","Community","Film and media","Food and drink","Music","Others"],firebaseInitialize:{apiKey:"AIzaSyCbtFheCZyNr71asy5uVV7ZmZLkGYTLlRg",authDomain:"events-app-978ed.firebaseapp.com",databaseURL:"https://events-app-978ed.firebaseio.com",projectId:"events-app-978ed",storageBucket:""},googleMapsApi:"AIzaSyCEQGekztBryFOuW7mdB0FExd5no1Go_r0"}}),v={data:function(){return{active:null,eventsSelected:[],searchByTitle:"",searchByLocation:"",categories:d.categories,searchByCategories:[],searchEvents:[],locationName:""}},computed:{foundEvents:function(){var t={searchByTitle:this.searchByTitle,searchByLocation:this.searchByLocation,searchByCategories:this.searchByCategories};return this.$store.dispatch("searchedEvents",t),this.eventsSelected=this.$store.getters.foundEvents,this.eventsSelected}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[a("v-flex",{attrs:{xs11:""}},[a("v-tabs",{attrs:{color:"primary",dark:"","slider-color":"accent"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("v-tab",{attrs:{ripple:""},on:{click:function(e){t.searchByCategories=[],t.searchByLocation=""}}},[t._v("\n                    Search events by title\n                ")]),t._v(" "),a("v-tab-item",{staticClass:"height-card"},[a("v-card",[a("v-card-text",[a("v-subheader",{staticClass:"display-1"},[t._v("Search events")]),t._v(" "),a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{name:"searchByTitle",label:"Search by title","active-class":"accent"},model:{value:t.searchByTitle,callback:function(e){t.searchByTitle=e},expression:"searchByTitle"}})],1)],1)],1)],1)],1)],1),t._v(" "),a("v-tab",{attrs:{ripple:""},on:{click:function(e){t.searchByCategories=[],t.searchByTitle=""}}},[t._v("\n                    Search events by location\n                ")]),t._v(" "),a("v-tab-item",{staticClass:"height-card"},[a("v-card",[a("v-card-text",[a("v-subheader",{staticClass:"display-1"},[t._v("Search events")]),t._v(" "),a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{name:"searchByLocation",label:"Search by location"},model:{value:t.searchByLocation,callback:function(e){t.searchByLocation=e},expression:"searchByLocation"}})],1)],1)],1)],1)],1)],1),t._v(" "),a("v-tab",{attrs:{ripple:""},on:{click:function(e){t.searchByTitle="",t.searchByLocation=""}}},[t._v("\n                    Search events by categories                        \n                ")]),t._v(" "),a("v-tab-item",{staticClass:"height-card"},[a("v-card",[a("v-card-text",[a("v-subheader",{staticClass:"display-1"},[t._v("Search events")]),t._v(" "),a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.categories,function(e,r){return a("v-flex",{key:r,attrs:{xs6:"",sm4:"",md4:""}},[a("v-checkbox",{attrs:{label:e,color:"accent",value:e,multiple:"","hide-details":""},model:{value:t.searchByCategories,callback:function(e){t.searchByCategories=e},expression:"searchByCategories"}})],1)}))],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},t._l(t.foundEvents,function(e){return a("v-flex",{key:e.id,staticClass:"pa-2",attrs:{xs12:"",sm6:"",md4:""}},[a("v-card",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card-media",{attrs:{src:e.imageUrl,height:"200px"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs7:"",sm8:"",md9:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline primary--text"},[t._v(t._s(e.title))]),t._v(" "),a("h4",{staticClass:"body-2 grey--text"},[t._v("Start date: "+t._s(e.startDate))]),t._v(" "),a("h4",{staticClass:"body-2 grey--text"},[t._v("End date: "+t._s(e.endDate))]),t._v(" "),a("span",[t._v(t._s(e.location.locality))]),t._v(" "),a("p",{staticClass:"text-cut subheading"},[t._v(t._s(e.description))]),t._v(" "),a("v-layout",{staticClass:"text-xs-left",attrs:{row:"",wrap:""}},t._l(e.categorySelect,function(e,r){return a("v-flex",{key:r},[a("v-chip",{staticClass:"error--text text-xs-left elevation-1",attrs:{outline:"",disabled:""}},[t._v(t._s(e.toString()))])],1)}))],1)]),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{"justify-end":"",row:"",wrap:""}},[a("v-flex",{attrs:{xs4:"",md6:""}},[a("v-btn",{staticClass:"primary",attrs:{flat:"",to:"/event/"+e.id}},[a("v-icon",{attrs:{left:""}},[t._v("arrow_forward")]),t._v("\n                                            Viwe event\n                                        ")],1)],1)],1)],1)],1)],1)],1)],1)],1)}))],1)},staticRenderFns:[]};var m=a("VU/8")(v,u,!1,function(t){a("he+v")},null,null).exports,f=a("fZjL"),p=a.n(f),h=a("sUu7"),g={validator:null,data:function(){return{newEvent:{title:"",location:{},imageUrl:"",description:"",organizerName:"",startDate:null,startTime:null,endDate:null,endTime:null,categorySelect:[]},address:"",category:d.$data.category,errors:null,dialog:!1,messages:[],validate:!1}},created:function(){this.validator=new h.a(d.$data.validRules),this.$set(this,"errors",this.validator.errors)},watch:{newEvent:function(t){p()(this.newEvent).forEach(function(e){console.log([e]),this.validator.validate(""+[e],t)})}},methods:{validateForm:function(){var t=this;this.validator.validateAll(this.newEvent).then(function(e){e&&(t.validate=e)}),this.messages=this.validator.errors.items,this.dialog=!0},createNewEvents:function(){this.$store.dispatch("createEvent",this.newEvent),this.dialog=!1,this.$router.push("/")},clearErrors:function(){this.errors.clear()},getAddressData:function(t,e,a){""!==t&&null!==t&&void 0!==t&&(this.newEvent.location={country:t.country,latitude:t.latitude,longitude:t.longitude,locality:t.locality,name:t.name,place_id:t.place_id,route:t.route})},setStartDate:function(t){this.newEvent.startDate=t},setEndDate:function(t){this.newEvent.endDate=t},setStartTime:function(t){this.newEvent.startTime=t},setEndTime:function(t){this.newEvent.endTime=t}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.validateForm(e)}}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"title",label:"Title",id:"title",hint:t.errors.first("title"),required:""},model:{value:t.newEvent.title,callback:function(e){t.$set(t.newEvent,"title",e)},expression:"newEvent.title"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"description",label:"Description",id:"description","multi-line":"",hint:t.errors.first("description"),required:""},model:{value:t.newEvent.description,callback:function(e){t.$set(t.newEvent,"description",e)},expression:"newEvent.description"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"organizerName",label:"The name of the organizer",id:"organizerName",hint:t.errors.first("organizerName"),required:""},model:{value:t.newEvent.organizerName,callback:function(e){t.$set(t.newEvent,"organizerName",e)},expression:"newEvent.organizerName"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("vuetify-google-autocomplete",{attrs:{name:"map",id:"map",classname:"form-control",label:"The address of the event (Address format: street, city, country)",country:"pl",types:t.address,clearable:!0,hint:t.errors.first("location"),required:""},on:{placechanged:t.getAddressData}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("span",{staticClass:"display-1"},[t._v("Start date")])])],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"","offset-sm3":""}},[a("date-picker",{attrs:{labelName:"Start date"},on:{setDate:function(e){t.setStartDate(e)}}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm3:""}},[a("time-picker",{attrs:{labelName:"Start Time"},on:{setTime:function(e){t.setStartTime(e)}}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-divider",{staticClass:"secondary mb-4 mt-3"}),t._v(" "),a("span",{staticClass:"display-1"},[t._v("End date")])],1)],1),t._v(" "),a("v-layout",{staticClass:"mb-4",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm3:"","offset-sm3":""}},[a("date-picker",{attrs:{labelName:"End date"},on:{setDate:function(e){t.setEndDate(e)}}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm3:""}},[a("time-picker",{attrs:{labelName:"End time"},on:{setTime:function(e){t.setEndTime(e)}}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-text-field",{attrs:{name:"imageUrl",label:"Image URL",id:"imageUrl",type:"url",placeholder:"https://www.example.pl",hint:t.errors.first("imageUrl"),required:""},model:{value:t.newEvent.imageUrl,callback:function(e){t.$set(t.newEvent,"imageUrl",e)},expression:"newEvent.imageUrl"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("img",{attrs:{src:t.newEvent.imageUrl,height:"150"}})])],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-select",{class:{"error--text":t.errors.has("categorySelect")},attrs:{items:t.category,label:"Select category",multiple:"",chips:"",hint:t.errors.first("categorySelect"),required:""},model:{value:t.newEvent.categorySelect,callback:function(e){t.$set(t.newEvent,"categorySelect",e)},expression:"newEvent.categorySelect"}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("category"),expression:"errors.has('category')"}],staticClass:"error"},[t._v(t._s(t.errors.first("category")))])],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-btn",{staticClass:"primary",attrs:{slot:"activator",type:"submit"},slot:"activator"},[t._v("Organize event\n                        ")]),t._v(" "),a("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[t._l(t.messages,function(e,r){return a("v-card-text",{key:r,staticClass:"body-2 error--text"},[t._v("                            \n                                    "+t._s(e.msg)+"\n                                ")])}),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{"justify-center":""}},[t.validate?a("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.createNewEvents}},[t._v("\n                                            I accept\n                                        ")]):t._e(),t._v(" "),t.validate?t._e():a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n                                            Ok\n                                        ")])],1)],1)],2)],1)],1)],1)],1)])],1)],1)},staticRenderFns:[]};var y=a("VU/8")(g,_,!1,function(t){a("L7bS")},null,null).exports,x=a("y87N"),w=a.n(x),E={props:["id"],computed:{event:function(){return this.$store.getters.loadedEvent(this.id)},userIsAuthenticated:function(){return this.$store.getters.userIsAuthenticated},userIsCreator:function(){return!!this.userIsAuthenticated&&this.$store.getters.user.id===this.event.creatorID}},mounted:function(){var t=this.event;w.a.googleMaps(t)},methods:{registerEvent:function(){}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-flex",{attrs:{xs10:""}},[a("v-card",[a("v-card-media",{staticClass:"white--text",attrs:{height:"450px",src:t.event.imageUrl}},[a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-layout",{attrs:{"fill-height":""}},[a("v-flex",{attrs:{xs12:"","align-end":"",flexbox:""}},[a("p",{staticClass:"display-1"},[t._v(t._s(t.event.title))])])],1)],1)],1),t._v(" "),a("v-card-title",[a("div",[a("span",{staticClass:"body-2 grey--text"},[t._v("Start date: "+t._s(t.event.startDate)+", "+t._s(t.event.startTime))]),a("br"),t._v(" "),a("span",{staticClass:"body-2 grey--text"},[t._v("End date: "+t._s(t.event.endDate)+", "+t._s(t.event.endTime))]),a("br"),t._v(" "),a("span",{staticClass:"subheading"},[a("span",{staticClass:"primary--text"},[t._v("Organizer name:")]),t._v(" "+t._s(t.event.organizerName))]),a("br"),t._v(" "),a("span",{staticClass:"subheading",attrs:{id:"location"}},[t._v("Adress: "+t._s(t.event.location.name)+", "+t._s(t.event.location.locality)+", "+t._s(t.event.location.country))]),t._v(" "),a("p",{staticClass:"pt-4 body-2"},[t._v(t._s(t.event.description))])])]),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{row:"",wrap:"","justify-start":""}},[a("v-flex",{staticClass:"mt-2",attrs:{xs10:"",md2:""}},[t.userIsCreator?a("edit-event",{attrs:{event:t.event}}):t._e()],1),t._v(" "),a("v-flex",{staticClass:"mt-2",attrs:{xs10:"",md2:""}},[t.userIsCreator?a("delete-event",{attrs:{id:t.event.id}}):t._e()],1),t._v(" "),a("v-spacer"),t._v(" "),!t.userIsCreator&&t.userIsAuthenticated?a("v-btn",{attrs:{color:"info"},on:{click:t.registerEvent}},[t._v("Register")]):t._e()],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("div",{staticClass:"google-map",attrs:{id:"googleMap"}})],1)],1)],1)],1)},staticRenderFns:[]};var C=a("VU/8")(E,b,!1,function(t){a("z9nC")},null,null).exports,k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"",wrap:"","justify-center":"","align-center":""}},[t.isUserCreatedEvents?t._e():a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("h2",{staticClass:"display-2 text-xs-center pa-3"},[t._v("You don't create any events.")]),t._v(" "),a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-btn",{staticClass:"text-xs-center ma-3",attrs:{color:"primary",to:"/event/new"}},[t._v("Create event")])],1)],1)],1),t._v(" "),t._l(t.myEvents,function(e){return a("v-flex",{key:e.id,staticClass:"pa-2",attrs:{xs12:"",sm6:"",md4:""}},[a("v-card",[a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card-media",{attrs:{src:e.imageUrl,height:"200px"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs7:"",sm8:"",md9:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline primary--text"},[t._v(t._s(e.title))]),t._v(" "),a("h4",{staticClass:"body-2 grey--text"},[t._v(t._s(e.date))]),t._v(" "),a("p",{staticClass:"text-cut subheading"},[t._v(t._s(e.description))]),t._v(" "),a("v-layout",{staticClass:"text-xs-left",attrs:{row:"",wrap:""}},t._l(e.categorySelect,function(e,r){return a("v-flex",{key:r,attrs:{xs6:""}},[a("span",{staticClass:"info--text text-xs-left"},[t._v(t._s(e.toString()))])])}))],1)]),t._v(" "),a("v-card-actions",[a("v-layout",{attrs:{"justify-end":"",row:"",wrap:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-btn",{staticClass:"primary",attrs:{flat:"",to:"/event/"+e.id}},[a("v-icon",{attrs:{left:""}},[t._v("arrow_forward")]),t._v("\n                                        Viwe event\n                                    ")],1)],1)],1)],1)],1)],1)],1)],1)],1)})],2)},staticRenderFns:[]},D=a("VU/8")({data:function(){return{isUserCreatedEvents:!1}},computed:{myEvents:function(){var t=this.$store.getters.loadedEvents,e=this.$store.getters.user,a=t.filter(function(t){return t.creatorID==e.id});return a.length>0&&(this.isUserCreatedEvents=!0),a}}},k,!1,null,null,null).exports,S={data:function(){return{email:"",password:"",confirmPassword:""}},computed:{user:function(){return this.$store.getters.user},error:function(){return this.$store.getters.error}},watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/")}},methods:{onSignUp:function(){this.$store.dispatch("signUserUp",{email:this.email,password:this.password})},onDismissed:function(){this.$store.dispatch("clearError")}}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"margin-register"},[t.error?a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("error-alert",{attrs:{text:t.error.message},on:{dismissed:t.onDismissed}})],1)],1):t._e(),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSignUp(e)}}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{color:"primary",name:"email",label:"E-mail",id:"email",type:"email",hint:t.vErrors.first("email"),required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],ref:"password",attrs:{counter:"",type:"password",color:"primary",name:"password",label:"Password",id:"password",hint:t.vErrors.first("password"),required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6|confirmed:password",expression:"'required|min:6|confirmed:password'"}],attrs:{counter:"",type:"password",name:"confirmPassword",label:"Confirm Password",id:"confirmPassword",required:"",hint:t.vErrors.first("password")},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:"","justify-end":""}},[a("v-flex",{attrs:{xs3:""}},[a("v-btn",{attrs:{disabled:!t.email||!t.password||!t.confirmPassword||t.vErrors.has("password")||t.vErrors.has("email")||t.vErrors.first("confirmPassword"),type:"submite",color:"primary"}},[t._v("\n                            Sign up\n                            "),a("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[a("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)],1)],1)])],1)],1)},staticRenderFns:[]};var $=a("VU/8")(S,U,!1,function(t){a("Eo3W")},null,null).exports,T={data:function(){return{email:"",password:""}},computed:{user:function(){return this.$store.getters.user},error:function(){return this.$store.getters.error}},watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/")}},methods:{onSignIn:function(){this.$store.dispatch("signUserIn",{email:this.email,password:this.password})},onDismissed:function(){this.$store.dispatch("clearError")}}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"margin-register"},[t.error?a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("error-alert",{attrs:{text:t.error.message},on:{dismissed:t.onDismissed}})],1)],1):t._e(),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSignIn(e)}}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{color:"primary",name:"email",label:"E-mail",id:"email",type:"email",hint:t.vErrors.first("email"),required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:6",expression:"'required|min:6'"}],attrs:{color:"primary",name:"password",label:"Password",id:"password",type:"password",hint:t.vErrors.first("password"),required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:"","justify-end":""}},[a("v-flex",{attrs:{xs3:""}},[a("v-btn",{attrs:{slot:"activator",disabled:!t.email||!t.password||t.vErrors.has("password")||t.vErrors.has("email"),type:"submite",color:"primary"},slot:"activator"},[t._v("\n                            Sign in\n                            "),a("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[a("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)],1)],1)])],1)],1)},staticRenderFns:[]};var I=a("VU/8")(T,N,!1,function(t){a("Es7a")},null,null).exports;r.a.use(c.a);var A=new c.a({routes:[{path:"/",name:"Home",component:m},{path:"/event/new",name:"New Event",component:y},{path:"/event/my-events",name:"My Events",component:D},{path:"/event/:id",props:!0,name:"Event",component:C},{path:"/user/signup",name:"Signup",component:$},{path:"/user/signin",name:"Signin",component:I}]}),q=a("3EgV"),B=a.n(q),z=a("NYxO"),L=a("424j"),F=a("kxiW"),R={state:{user:null,userIsAuthenticated:!1},mutations:{setUser:function(t,e){t.user=e},setUserIsAuthenticated:function(t,e){t.userIsAuthenticated=e}},actions:{signUserUp:function(t,e){var a=t.commit;a("clearError"),F.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){var e={id:t.uid,email:t.email};a("setUser",e),a("setUserIsAuthenticated",!0)}).catch(function(t){a("setError",t),console.log(t)})},signUserIn:function(t,e){var a=t.commit;a("clearError"),F.auth().signInWithEmailAndPassword(e.email,e.password).then(function(t){var e={id:t.uid,email:t.email};a("setUser",e),a("setUserIsAuthenticated",!0)}).catch(function(t){a("setError",t),console.log(t)})},autoSignIn:function(t,e){var a=t.commit;a("setUser",{id:e.uid}),a("setUserIsAuthenticated",!0)},logout:function(t){var e=t.commit;F.auth().signOut(),e("setUserIsAuthenticated",!1),e("setUser",null)}},getters:{user:function(t){return t.user},userIsAuthenticated:function(t){return t.userIsAuthenticated}}},V=a("Dd8w"),P=a.n(V),j={state:{loadedEvents:[],foundEvents:[]},mutations:{createEvent:function(t,e){t.loadedEvents.push(e)},setLoadedEvents:function(t,e){t.loadedEvents=e},setSearchedEvents:function(t,e){t.foundEvents=e},removeEventData:function(t,e){t.loadedEvents=t.loadedEvents.filter(function(t){return t.id!==e})},updateEventData:function(t,e){var a=t.loadedEvents.find(function(t){return t.id===e.id});p()(a).forEach(function(t){a[t]=e[t]})}},actions:{createEvent:function(t,e){var a=t.commit,r=t.rootGetters;e.creatorID=r.user.id;var s=e,n=void 0;F.database().ref("events").push(s).then(function(t){return n=t.key}).then(function(){a("createEvent",P()({},s,{id:n}))}).catch(function(t){return console.log(t)})},loadedEvents:function(t){var e=t.commit;F.database().ref("events").once("value").then(function(t){var a=[],r=t.val();for(var s in r)a.push({id:s,categorySelect:r[s].categorySelect,imageUrl:r[s].imageUrl,startDate:r[s].startDate,startTime:r[s].startTime,endDate:r[s].endDate,endTime:r[s].endTime,description:r[s].description,location:r[s].location,organizerName:r[s].organizerName,title:r[s].title,creatorID:r[s].creatorID}),e("setLoadedEvents",a)}).catch(function(t){return console.log(t)})},deleteEvent:function(t,e){var a=t.commit;F.database().ref("events").child(e).remove().then(function(){a("removeEventData",e)}).catch(function(t){return console.log(t)})},updateEventData:function(t,e){var a=t.commit,r=e;F.database().ref("events").child(e.id).update(r).then(function(){a("updateEventData",e)}).catch(function(t){return console.log(t)})},searchedEvents:function(t,e){var a=t.commit,r=t.getters,s=e.searchByTitle,n=e.searchByLocation,i=e.searchByCategories,o=r.loadedEvents;if(""!==s&&""===n&&0==i.length)a("setSearchedEvents",o.filter(function(t){return t.title.toLowerCase().includes(s.toLowerCase())}));else if(""===s&&""!==n&&0===i.length)a("setSearchedEvents",o.filter(function(t){return t.location.locality.toLowerCase().includes(n.toLowerCase())}));else if(""===s&&""===n&&i.length>0){var l=[];o.forEach(function(t){i.forEach(function(e){t.categorySelect.forEach(function(a){if(a===e&&!l.some(function(e){return e.id===t.id}))return l.push(t)})})}),a("setSearchedEvents",o=l)}else a("setSearchedEvents",o)}},getters:{loadedEvents:function(t){return t.loadedEvents.sort(function(t,e){return t.date>e.date})},loadedEvent:function(t){return function(e){return t.loadedEvents.find(function(t){return t.id===e})}},foundEvents:function(t){return t.foundEvents}}};r.a.use(z.a);var M=new z.a.Store({plugins:[Object(L.a)()],modules:{helpers:{state:{error:null},mutations:{setError:function(t,e){t.error=e},clearError:function(t){t.error=null}},actions:{clearError:function(t){(0,t.commit)("clearError")}},getters:{error:function(t){return t.error}}},user:R,event:j}}),O=a("9Xpx"),W=a.n(O),H=(a("7zck"),a("gJtD"),{props:["event"],data:function(){return{eventEdited:{categorySelect:this.event.categorySelect,title:this.event.title,description:this.event.description,organizerName:this.event.organizerName,location:this.event.location,imageUrl:this.event.imageUrl,startDate:this.event.startDate,startTime:this.event.startTime,endDate:this.event.endDate,endTime:this.event.endTime},category:d.$data.category,dialog:!1,validate:!1,messages:[]}},created:function(){this.validator=new h.a(d.$data.validRules),this.$set(this,"errors",this.validator.errors)},watch:{newEventEdited:function(t){p()(this.eventEdited).forEach(function(e){this.validator.validate(""+[e],t)})}},methods:{onSaveChanges:function(){var t=this;this.validator.validateAll(this.eventEdited).then(function(e){if(e)return t.validate=e,t.dialog=!1,t.eventEdited.id=t.event.id,t.eventEdited.creatorID=t.event.creatorID,void t.$store.dispatch("updateEventData",t.eventEdited);t.messages=t.validator.errors.items,t.dialog=!0})},getAddressData:function(t,e,a){""!==t&&null!==t&&void 0!=t&&(this.eventEdited.location={country:t.country,latitude:t.latitude,longitude:t.longitude,locality:t.locality,name:t.name,place_id:t.place_id,route:t.route})},clearErrors:function(){this.errors.clear()},setStartDate:function(t){this.eventEdited.startDate=t},setEndDate:function(t){this.eventEdited.endDate=t},setStartTime:function(t){this.eventEdited.startTime=t},setEndTime:function(t){this.eventEdited.endTime=t}}}),G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("div",[a("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v("Edit event")])],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"650"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card-text",[a("v-text-field",{attrs:{name:"tittle",label:"Title",id:"title",required:""},model:{value:t.eventEdited.title,callback:function(e){t.$set(t.eventEdited,"title",e)},expression:"eventEdited.title"}}),t._v(" "),a("v-text-field",{attrs:{name:"description",label:"Description",id:"description","multi-line":"",required:""},model:{value:t.eventEdited.description,callback:function(e){t.$set(t.eventEdited,"description",e)},expression:"eventEdited.description"}}),t._v(" "),a("v-text-field",{attrs:{name:"organizerName",label:"The name of the organizer",id:"organizerName",required:""},model:{value:t.eventEdited.organizerName,callback:function(e){t.$set(t.eventEdited,"organizerName",e)},expression:"eventEdited.organizerName"}}),t._v(" "),a("vuetify-google-autocomplete",{attrs:{id:"map",classname:"form-control",label:"EventEdited adress",value:t.eventEdited.location.name+", "+t.eventEdited.location.locality+", "+t.eventEdited.location.country,country:"pl",clearable:!0},on:{placechanged:t.getAddressData}}),t._v(" "),a("date-picker",{attrs:{editedDate:t.eventEdited.startDate,labelName:"Start date"},on:{setDate:function(e){t.setStartDate(e)}}}),t._v(" "),a("time-picker",{attrs:{editedTime:t.eventEdited.startTime,labelName:"Start Time"},on:{setTime:function(e){t.setStartTime(e)}}}),t._v(" "),a("date-picker",{attrs:{editedDate:t.eventEdited.endDate,labelName:"End date"},on:{setDate:function(e){t.setEndDate(e)}}}),t._v(" "),a("time-picker",{attrs:{editedTime:t.eventEdited.endTime,labelName:"End time"},on:{setTime:function(e){t.setEndTime(e)}}}),t._v(" "),a("v-text-field",{attrs:{name:"imageUrl",label:"Image URL",id:"imageUrl",type:"url",placeholder:"https://www.example.pl",required:""},model:{value:t.eventEdited.imageUrl,callback:function(e){t.$set(t.eventEdited,"imageUrl",e)},expression:"eventEdited.imageUrl"}}),t._v(" "),a("img",{attrs:{src:t.eventEdited.imageUrl,height:"150"}}),t._v(" "),a("v-select",{attrs:{items:t.category,label:"Select a category",multiple:"",chips:"","persistent-hint":""},model:{value:t.eventEdited.categorySelect,callback:function(e){t.$set(t.eventEdited,"categorySelect",e)},expression:"eventEdited.categorySelect"}})],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-layout",{attrs:{row:"",wrap:"","text-xs-right":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{color:"error"},nativeOn:{click:function(e){e.stopPropagation(),t.dialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:t.onSaveChanges}},[t._v("\n                        Save\n                    ")])],1)],1),t._v(" "),t._l(t.messages,function(e,r){return a("v-card-text",{key:r,staticClass:"error--text"},[t._v("  \n                "+t._s(e.msg)+"\n            ")])})],2)],1)],1)},staticRenderFns:[]},Y=a("VU/8")(H,G,!1,null,null,null).exports,Z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("div",[a("v-btn",{attrs:{color:"error"},nativeOn:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[t._v("Delete event")])],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this event?")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"error"},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("Disagree")]),t._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:t.deleteEvent}},[t._v("Agree")])],1)],1)],1)],1)},staticRenderFns:[]},J=a("VU/8")({props:["id"],data:function(){return{dialog:!1}},methods:{deleteEvent:function(){this.$store.dispatch("deleteEvent",this.id),this.dialog=!1,this.$router.push("/event/my-events")}}},Z,!1,null,null,null).exports,K={render:function(){var t=this.$createElement;return(this._self._c||t)("v-alert",{attrs:{type:"error",dismissible:"",outline:"",value:!0},on:{input:this.onClose}},[this._v("\n    "+this._s(this.text)+"\n")])},staticRenderFns:[]},Q=a("VU/8")({props:["text"],methods:{onClose:function(){this.$emit("dismissed")}}},K,!1,null,null,null).exports,X={props:["labelName","editedDate"],data:function(){return{date:null,menu:!1,currentData:(new Date).toISOString().substring(0,10)}},mounted:function(){""===this.editedDate&&null==this.date||(this.date=this.editedDate)},methods:{pushDate:function(){this.$emit("setDate",this.date)}}},tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.date,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-text-field",{attrs:{slot:"activator",label:t.labelName,"prepend-icon":"event",readonly:"",required:""},slot:"activator",model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),a("v-date-picker",{attrs:{min:t.currentData},on:{input:function(e){t.$refs.menu.save(t.date)},change:t.pushDate},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1)},staticRenderFns:[]},et=a("VU/8")(X,tt,!1,null,null,null).exports,at={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.time,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.time=e}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-text-field",{attrs:{slot:"activator",placeholder:t.editedTime,label:t.labelName,"prepend-icon":"access_time",readonly:"",required:""},slot:"activator",model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}),t._v(" "),a("v-time-picker",{on:{change:t.pushTime},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)],1)],1)},staticRenderFns:[]};var rt=a("VU/8")({props:["labelName","editedTime"],data:function(){return{time:null,menu:!1}},mounted:function(){""===this.editedTime&&null==this.time||(this.time=this.editedTime)},methods:{pushTime:function(){this.$refs.menu.save(this.time),this.$emit("setTime",this.time)}}},at,!1,function(t){a("slNB")},null,null).exports;r.a.use(B.a,{theme:{primary:"#265500",secondary:"#213036",accent:"#96d800",error:"#b7241b",info:"#f58f92"}}),r.a.use(W.a,{apiKey:d.googleMapsApi}),r.a.use(h.b,{errorBagName:"vErrors"}),r.a.config.productionTip=!1,r.a.component("edit-event",Y),r.a.component("delete-event",J),r.a.component("error-alert",Q),r.a.component("date-picker",et),r.a.component("time-picker",rt),new r.a({el:"#app",router:A,components:{App:l},template:"<App/>",store:M,created:function(){var t=this;F.initializeApp(d.firebaseInitialize),F.auth().onAuthStateChanged(function(e){e&&t.$store.dispatch("autoSignIn",e)}),this.$store.dispatch("loadedEvents")}})},eM84:function(t,e){},gJtD:function(t,e){},"he+v":function(t,e){},slNB:function(t,e){},y87N:function(t,e){t.exports={googleMaps:function(t){var e={lat:t.location.latitude,lng:t.location.longitude},a=new google.maps.Map(document.getElementById("googleMap"),{zoom:10,center:e}),r=(new google.maps.Marker({position:e,map:a,title:"Hello World!"}),new google.maps.InfoWindow);new google.maps.places.PlacesService(a).getDetails({placeId:t.location.place_id},function(t,e){if(e===google.maps.places.PlacesServiceStatus.OK){var s=new google.maps.Marker({map:a,position:t.geometry.location});google.maps.event.addListener(s,"click",function(){r.setContent("<div><strong>"+t.name+"</strong><br>"+t.formatted_address+"</div>"),r.open(a,this)})}})}}},z9nC:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.35b0e24486a21adcb966.js.map